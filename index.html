<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Web Components Dev Talk</title>
    <meta charset="UTF-8" />
    <style>
      html {
        font-family: sans-serif;
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <h2>Hello slots</h2>
    <jtw-hello-slots><span slot="target">World</span></jtw-hello-slots>
    <h2>Hello attributes</h2>
    <jtw-hello-attributes target="World"></jtw-hello-attributes>
    <h2>Open component</h2>
    <jtw-open></jtw-open>
    <h2>Closed component</h2>
    <jtw-closed></jtw-closed>

    <!-- templates -->
    <template id="hello-slots-template">
      <style>
        .container {
          text-align: center;
          padding: 10px;
          margin: 10px;
          border: dashed black 2px;
        }
      </style>
      <div class="container">Hello, <slot name="target"></slot>!</div>
    </template>

    <template id="hello-attributes-template">
      <style>
        .container {
          text-align: center;
          padding: 10px;
          margin: 10px;
          border: dashed black 2px;
        }
      </style>
      <div class="container">Hello <span id="target"></span>!</div>
    </template>

    <template id="open-closed-template">
      <div class="open-closed"><span id="open-or-closed"></span> component</div>
    </template>

    <!-- template needs to be defined before script is run -->
    <script src="hello-slots.js"></script>
    <script src="hello-attributes.js"></script>
    <script src="open-component.js"></script>
    <script src="closed-component.js"></script>
    <script>
      const open = document.querySelector("jtw-open");
      if (open.shadowRoot) {
        const target = open.shadowRoot.querySelector(".open-closed");
        target.style.backgroundColor = "pink";
        target.style.border = "dashed black 2px";
        target.style.padding = "10px";
        target.innerHTML = target.innerHTML + ". OH NO! I've been manipulated!";
      }

      const closed = document.querySelector("jtw-closed");
      if (closed.shadowRoot) {
        const target = closed.shadowRoot.querySelector(".open-closed");
        target.style.backgroundColor = "pink";
        target.style.border = "dashed black 2px";
        target.style.padding = "10px";
        target.innerHTML = target.innerHTML + ". OH NO! I've been manipulated!";
      }

      console.log("This is the open shadow DOM", open.shadowRoot);
      console.log("This is the closed shadow DOM", closed.shadowRoot);
    </script>
  </body>
</html>
